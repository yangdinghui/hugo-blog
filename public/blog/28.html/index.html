<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
<meta charset="utf-8" />
<meta name="generator" content="Hugo 0.135.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="toTop" content="true">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="halo" />
<meta property="og:url" content="http://localhost:1313/blog/28.html/" />
<link rel="canonical" href="http://localhost:1313/blog/28.html/" /><link rel="apple-touch-icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="icon" href="https://imgurl.zishu.me/favicon.ico" />
<link rel="shortcut" href="https://imgurl.zishu.me/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="http://localhost:1313/index.xml" title="halo的博客">
<script type="application/ld+json">
{
"@context" : "http://schema.org",
"@type" : "BlogPosting",
"mainEntityOfPage": {
"@type": "WebPage",
"@id": "http:\/\/localhost:1313\/"
},
"articleSection" : "blog",
"name" : "vue 学习笔记 (2)－－vue 实例和模板语法",
"headline" : "vue 学习笔记 (2)－－vue 实例和模板语法",
"description" : "一、vue 实例 1.创建 vue 实例 一个 vue 实例应该通过new Vue来创建根实例，所有的 vue 组件其实都是 vue 实例\nvar vm = new Vue({ ... }) 当一个实例被创建时，data对象中的 property 都被加入到 vue 的响应式系统中，当值发生改变时，试图也会改变\nvar data = {a: 1} var vm = new Vue({ data: data }) 此时在控制台输入vm.a == data.a会返回 true，变量data已经被赋给vue实例中的data对象了\n同时，对两个对象的数据进行操作改变也会影响到另一个\nvm.a = 2 \/\/ data.a = 2 data.a = 3 \/\/ vm.a = 3 当数据改变时，视图也会重新渲染，如果在 vue 实例被创建后，又添加了一个新的 property，则不会被加入到响应式系统中\n如果一开始就知道后面会添加一个 property，但是一开始不存在或为空，需要设置一些初始值\ndata: { newTodoText: \u0026#39;\u0026#39;, visitCount: 0, hideCompletedTods: fasle, todos: [], error: null } 使用 Object.freeze() 方法的时候，无法修改数据引起视图变化\nObject.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;{{message}}\u0026lt;\/div\u0026gt; \u0026lt;script\u0026gt; var data = {message: \u0026#39;hello,wolrd\u0026#39;} Object.freeze(data) var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: data }) \u0026lt;\/script\u0026gt; 在控制台改变vm.message的值会直接报错，因为 data 对象已经被冻结了，不可改变\nvm.$data\n代表 vue 实例观察的数据对象\nconsole.log(vm.$data) \/\/ 返回数据对象的数组形式 var data = { a: 1 } var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: data }) vm.$data === data \/\/ true vm.$el === document.getElementById(\u0026#39;app\u0026#39;) \/\/ true 2.生命周期函数 每个实例在被创建的时候，都要经历一些初始化过程，比如：设置数据监听，编译模板，将实例挂载到 dom，更新 dom 等\n在这个过程中会运行一些叫做生命周期的钩子函数，可以在不同阶段添加自己需要的代码\n比如created钩子可以用来表示一个实例被创建之后执行的代码\nnew Vue({ data: { a: 1 }, created: function () { console.log(\u0026#39;a is: \u0026#39; \u002b this.a) } }) \/\/ \u0026#34;a is: 1\u0026#34; this用来指向 vm 实例\n但是不要在 property 或者回调上使用箭头函数，created: () =\u0026gt; console.log(this.a)，因为箭头函数没有this的概念，他会把this当作变量一直向上级作用域查找，经常产生Uncaught TypeError: Cannot read property of undefined或Uncaught TypeError: this.myMethod is not a function之类的报错\n二、模板语法 1.插值 最简单的就是\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;{{message}}\u0026lt;\/div\u0026gt; \u0026lt;script\u0026gt; var app = new Vue({ el: \u0026#34;#app\u0026#34;, data: { message: \u0026#39;hello,world\u0026#39; } }) \u0026lt;\/script\u0026gt; \u0026lt;\/script\u0026gt; 。。。\n下面这段代码给input绑定了一个disabled属性，但是通过ok的真伪来控制属性是否渲染\n当ok为fasle,null,undefined值时，属性都不会被渲染，有点类似于v-if，但是这种写法只是针对属性\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-bind:disabled=\u0026#34;ok\u0026#34;\u0026gt; \u0026lt;\/div\u0026gt; \u0026lt;script\u0026gt; var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;hello,wolrd\u0026#39;, ok: false } }) \u0026lt;\/script\u0026gt; 在模板语法中还可以使用 javascript 表达式\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div\u0026gt;{{number \u002b 1}}\u0026lt;\/div\u0026gt; \u0026lt;div v-bind:id=\u0026#34;\u0026#39;list-\u0026#39; \u002b id\u0026#34;\u0026gt;\u0026lt;\/div\u0026gt; \u0026lt;div\u0026gt;{{message.split(\u0026#39;\u0026#39;).reverse().join(\u0026#39;\u0026#39;)}}\u0026lt;\/div\u0026gt; \u0026lt;\/div\u0026gt; \u0026lt;script\u0026gt; var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { number: 2, id: \u0026#39;li\u0026#39;, message: \u0026#39;hello,wolrd\u0026#39; } }) \u0026lt;\/script\u0026gt; 每个模板只能包含一个 javascript 表达式，如果有多个，则不会生效\n\u0026lt;!-- 这是语句，不是表达式 --\u0026gt; {{ var a = 1 }} \u0026lt;!-- 流控制也不会生效，请使用三元表达式 --\u0026gt; {{ if (ok) { return message } }} 2.指令 参数\n一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，v-bind指令可以用于响应式地更新 HTML attribute：\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;a v-bind:href=\u0026#34;url\u0026#34;\u0026gt;百度\u0026lt;\/a\u0026gt; \u0026lt;\/div\u0026gt; \u0026lt;script\u0026gt; var vm = new Vue({ el: \u0026#39;#app\u0026#39;, data: { url: \u0026#39;https:\/\/www.baidu.com\u0026#39; } }) \u0026lt;\/script\u0026gt; 在这里href是参数，告知v-bind指令将该元素的hrefattribute 与表达式url的值绑定\n另一个例子是v-on指令，它用于监听 dom 事件\n\u0026lt;a v-on:click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; 动态参数\n从 2.6.0 开始，可以用方括号括起来的 JavaScript 表达式作为一个指令的参数\n\u0026lt;!--注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。--\u0026gt; \u0026lt;a v-bind:[attributeName]=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; 这里的attributeName会被作为一个 javascript 表达式进行动态求值，最终结果被作为参数来使用\n比如：vue 实例中有一个attributeName属性其值为href，则这个绑定将等价于v-bind:href\n\u0026lt;a v-bind:href=\u0026#34;url\u0026gt;...\u0026lt;\/a\u0026gt; 也可以使用动态的事件名绑定监听函数\n\u0026lt;a v-on:[eventName]=\u0026#34;doSomething\u0026#34;\u0026gt; ... \u0026lt;\/a\u0026gt; 如果eventName值为click，则该绑定等价于v-on:click=\u0026quot;doSomething\u0026quot;，一个鼠标点击事件\n对动态参数的值的约束\n动态参数预期会求出一个字符串，异常情况下值为null，这个特殊的null值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。\n对动态参数表达式的约束\n动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的，例如：\n\u0026lt;!-- 这会触发一个编译警告 --\u0026gt; \u0026lt;a v-bind:[\u0026#39;foo\u0026#39; \u002b bar]=\u0026#34;value\u0026#34;\u0026gt; ... \u0026lt;\/a\u0026gt; 因此，尽量不要使用空格和引号的表达式，或者采用计算属性来替代这种复杂表达式\n在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写\n修饰符\n修饰符是以.指明的特殊后缀，用于指出一个指令应该以特殊方式绑定，例如，.prevent修饰符告诉v-on指令对于触发的事件调用event.preentDefault()\n\u0026lt;form v-on:submit.prevent=\u0026#34;onSubmit\u0026#34;\u0026gt;...\u0026lt;\/form\u0026gt; 3.缩写 v-前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，v-前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序 (SPA - single page application) 时，v-前缀也变得没那么重要了。因此，Vue 为v-bind和v-on这两个最常用的指令，提供了特定简写\nv-bind\n\u0026lt;!-- 完整语法 --\u0026gt; \u0026lt;a v-bind:href=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; \u0026lt;!-- 缩写 --\u0026gt; \u0026lt;a :href=\u0026#34;url\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; \u0026lt;!-- 动态参数的缩写 (2.6.0\u002b) --\u0026gt; \u0026lt;a :[key]=\u0026#34;url\u0026#34;\u0026gt; ... \u0026lt;\/a\u0026gt; v-on\n\u0026lt;!-- 完整语法 --\u0026gt; \u0026lt;a v-on:click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; \u0026lt;!-- 缩写 --\u0026gt; \u0026lt;a @click=\u0026#34;doSomething\u0026#34;\u0026gt;...\u0026lt;\/a\u0026gt; \u0026lt;!-- 动态参数的缩写 (2.6.0\u002b) --\u0026gt; \u0026lt;a @[event]=\u0026#34;doSomething\u0026#34;\u0026gt; ... \u0026lt;\/a\u0026gt; 它们看起来可能与普通的 HTML 略有不同，但:与@对于 attribute 名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确地解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入地了解它们的作用，你会庆幸拥有它们。\n",
"inLanguage" : "en-US",
"author" : "halo",
"creator" : "halo",
"publisher": "halo",
"accountablePerson" : "halo",
"copyrightHolder" : "halo",
"copyrightYear" : "2020",
"datePublished": "2020-11-24 00:00:00 \u002b0000 UTC",
"dateModified" : "2020-11-24 00:00:00 \u002b0000 UTC",
"url" : "http:\/\/localhost:1313\/blog\/28.html\/",
"keywords" : [ "vue","笔记", ]
}
</script><title>vue 学习笔记 (2)－－vue 实例和模板语法 - halo的博客</title>
<meta property="og:title" content="vue 学习笔记 (2)－－vue 实例和模板语法" />
<meta property="og:type" content="article" />
<meta property="og:description" content="一、vue 实例 1.创建 vue 实例 一个 vue 实例应该通过new Vue来创建根实例，所有的 vue 组件其实都是 vue 实例
var vm = new Vue({ ... }) 当一个实例被创建时，data对象中的 property 都被加入到 vue 的响应式系统中，当值发生改变时，试图也会改变
var data = {a: 1} var vm = new Vue({ data: data }) 此时在控制台输入vm.a == data.a会返回 true，变量data已经被赋给vue实例中的data对象了
同时，对两个对象的数据进行操作改变也会影响到另一个
vm.a = 2 // data.a = 2 data.a = 3 // vm.a = 3 当数据改变时，视图也会重新渲染，如果在 vue 实例被创建后，又添加了一个新的 property，则不会被加入到响应式系统中
如果一开始就知道后面会添加一个 property，但是一开始不存在或为空，需要设置一些初始值
data: { newTodoText: &#39;&#39;, visitCount: 0, hideCompletedTods: fasle, todos: [], error: null } 使用 Object.freeze() 方法的时候，无法修改数据引起视图变化
Object.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。
&lt;div id=&#34;app&#34;&gt;{{message}}&lt;/div&gt; &lt;script&gt; var data = {message: &#39;hello,wolrd&#39;} Object.freeze(data) var vm = new Vue({ el: &#39;#app&#39;, data: data }) &lt;/script&gt; 在控制台改变vm.message的值会直接报错，因为 data 对象已经被冻结了，不可改变
vm.$data
代表 vue 实例观察的数据对象
console.log(vm.$data) // 返回数据对象的数组形式 var data = { a: 1 } var vm = new Vue({ el: &#39;#app&#39;, data: data }) vm.$data === data // true vm.$el === document.getElementById(&#39;app&#39;) // true 2.生命周期函数 每个实例在被创建的时候，都要经历一些初始化过程，比如：设置数据监听，编译模板，将实例挂载到 dom，更新 dom 等
在这个过程中会运行一些叫做生命周期的钩子函数，可以在不同阶段添加自己需要的代码
比如created钩子可以用来表示一个实例被创建之后执行的代码
new Vue({ data: { a: 1 }, created: function () { console.log(&#39;a is: &#39; &#43; this.a) } }) // &#34;a is: 1&#34; this用来指向 vm 实例
但是不要在 property 或者回调上使用箭头函数，created: () =&gt; console.log(this.a)，因为箭头函数没有this的概念，他会把this当作变量一直向上级作用域查找，经常产生Uncaught TypeError: Cannot read property of undefined或Uncaught TypeError: this.myMethod is not a function之类的报错
二、模板语法 1.插值 最简单的就是
&lt;div id=&#34;app&#34;&gt;{{message}}&lt;/div&gt; &lt;script&gt; var app = new Vue({ el: &#34;#app&#34;, data: { message: &#39;hello,world&#39; } }) &lt;/script&gt; &lt;/script&gt; 。。。
下面这段代码给input绑定了一个disabled属性，但是通过ok的真伪来控制属性是否渲染
当ok为fasle,null,undefined值时，属性都不会被渲染，有点类似于v-if，但是这种写法只是针对属性
&lt;div id=&#34;app&#34;&gt; &lt;input type=&#34;text&#34; v-bind:disabled=&#34;ok&#34;&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { message: &#39;hello,wolrd&#39;, ok: false } }) &lt;/script&gt; 在模板语法中还可以使用 javascript 表达式
&lt;div id=&#34;app&#34;&gt; &lt;div&gt;{{number &#43; 1}}&lt;/div&gt; &lt;div v-bind:id=&#34;&#39;list-&#39; &#43; id&#34;&gt;&lt;/div&gt; &lt;div&gt;{{message.split(&#39;&#39;).reverse().join(&#39;&#39;)}}&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { number: 2, id: &#39;li&#39;, message: &#39;hello,wolrd&#39; } }) &lt;/script&gt; 每个模板只能包含一个 javascript 表达式，如果有多个，则不会生效
&lt;!-- 这是语句，不是表达式 --&gt; {{ var a = 1 }} &lt;!-- 流控制也不会生效，请使用三元表达式 --&gt; {{ if (ok) { return message } }} 2.指令 参数
一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，v-bind指令可以用于响应式地更新 HTML attribute：
&lt;div id=&#34;app&#34;&gt; &lt;a v-bind:href=&#34;url&#34;&gt;百度&lt;/a&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { url: &#39;https://www.baidu.com&#39; } }) &lt;/script&gt; 在这里href是参数，告知v-bind指令将该元素的hrefattribute 与表达式url的值绑定
另一个例子是v-on指令，它用于监听 dom 事件
&lt;a v-on:click=&#34;doSomething&#34;&gt;...&lt;/a&gt; 动态参数
从 2.6.0 开始，可以用方括号括起来的 JavaScript 表达式作为一个指令的参数
&lt;!--注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。--&gt; &lt;a v-bind:[attributeName]=&#34;url&#34;&gt;...&lt;/a&gt; 这里的attributeName会被作为一个 javascript 表达式进行动态求值，最终结果被作为参数来使用
比如：vue 实例中有一个attributeName属性其值为href，则这个绑定将等价于v-bind:href
&lt;a v-bind:href=&#34;url&gt;...&lt;/a&gt; 也可以使用动态的事件名绑定监听函数
&lt;a v-on:[eventName]=&#34;doSomething&#34;&gt; ... &lt;/a&gt; 如果eventName值为click，则该绑定等价于v-on:click=&quot;doSomething&quot;，一个鼠标点击事件
对动态参数的值的约束
动态参数预期会求出一个字符串，异常情况下值为null，这个特殊的null值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。
对动态参数表达式的约束
动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的，例如：
&lt;!-- 这会触发一个编译警告 --&gt; &lt;a v-bind:[&#39;foo&#39; &#43; bar]=&#34;value&#34;&gt; ... &lt;/a&gt; 因此，尽量不要使用空格和引号的表达式，或者采用计算属性来替代这种复杂表达式
在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写
修饰符
修饰符是以.指明的特殊后缀，用于指出一个指令应该以特殊方式绑定，例如，.prevent修饰符告诉v-on指令对于触发的事件调用event.preentDefault()
&lt;form v-on:submit.prevent=&#34;onSubmit&#34;&gt;...&lt;/form&gt; 3.缩写 v-前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，v-前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序 (SPA - single page application) 时，v-前缀也变得没那么重要了。因此，Vue 为v-bind和v-on这两个最常用的指令，提供了特定简写
v-bind
&lt;!-- 完整语法 --&gt; &lt;a v-bind:href=&#34;url&#34;&gt;...&lt;/a&gt; &lt;!-- 缩写 --&gt; &lt;a :href=&#34;url&#34;&gt;...&lt;/a&gt; &lt;!-- 动态参数的缩写 (2.6.0&#43;) --&gt; &lt;a :[key]=&#34;url&#34;&gt; ... &lt;/a&gt; v-on
&lt;!-- 完整语法 --&gt; &lt;a v-on:click=&#34;doSomething&#34;&gt;...&lt;/a&gt; &lt;!-- 缩写 --&gt; &lt;a @click=&#34;doSomething&#34;&gt;...&lt;/a&gt; &lt;!-- 动态参数的缩写 (2.6.0&#43;) --&gt; &lt;a @[event]=&#34;doSomething&#34;&gt; ... &lt;/a&gt; 它们看起来可能与普通的 HTML 略有不同，但:与@对于 attribute 名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确地解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入地了解它们的作用，你会庆幸拥有它们。
" />
<meta name="description" content="一、vue 实例 1.创建 vue 实例 一个 vue 实例应该通过new Vue来创建根实例，所有的 vue 组件其实都是 vue 实例
var vm = new Vue({ ... }) 当一个实例被创建时，data对象中的 property 都被加入到 vue 的响应式系统中，当值发生改变时，试图也会改变
var data = {a: 1} var vm = new Vue({ data: data }) 此时在控制台输入vm.a == data.a会返回 true，变量data已经被赋给vue实例中的data对象了
同时，对两个对象的数据进行操作改变也会影响到另一个
vm.a = 2 // data.a = 2 data.a = 3 // vm.a = 3 当数据改变时，视图也会重新渲染，如果在 vue 实例被创建后，又添加了一个新的 property，则不会被加入到响应式系统中
如果一开始就知道后面会添加一个 property，但是一开始不存在或为空，需要设置一些初始值
data: { newTodoText: &#39;&#39;, visitCount: 0, hideCompletedTods: fasle, todos: [], error: null } 使用 Object.freeze() 方法的时候，无法修改数据引起视图变化
Object.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。
&lt;div id=&#34;app&#34;&gt;{{message}}&lt;/div&gt; &lt;script&gt; var data = {message: &#39;hello,wolrd&#39;} Object.freeze(data) var vm = new Vue({ el: &#39;#app&#39;, data: data }) &lt;/script&gt; 在控制台改变vm.message的值会直接报错，因为 data 对象已经被冻结了，不可改变
vm.$data
代表 vue 实例观察的数据对象
console.log(vm.$data) // 返回数据对象的数组形式 var data = { a: 1 } var vm = new Vue({ el: &#39;#app&#39;, data: data }) vm.$data === data // true vm.$el === document.getElementById(&#39;app&#39;) // true 2.生命周期函数 每个实例在被创建的时候，都要经历一些初始化过程，比如：设置数据监听，编译模板，将实例挂载到 dom，更新 dom 等
在这个过程中会运行一些叫做生命周期的钩子函数，可以在不同阶段添加自己需要的代码
比如created钩子可以用来表示一个实例被创建之后执行的代码
new Vue({ data: { a: 1 }, created: function () { console.log(&#39;a is: &#39; &#43; this.a) } }) // &#34;a is: 1&#34; this用来指向 vm 实例
但是不要在 property 或者回调上使用箭头函数，created: () =&gt; console.log(this.a)，因为箭头函数没有this的概念，他会把this当作变量一直向上级作用域查找，经常产生Uncaught TypeError: Cannot read property of undefined或Uncaught TypeError: this.myMethod is not a function之类的报错
二、模板语法 1.插值 最简单的就是
&lt;div id=&#34;app&#34;&gt;{{message}}&lt;/div&gt; &lt;script&gt; var app = new Vue({ el: &#34;#app&#34;, data: { message: &#39;hello,world&#39; } }) &lt;/script&gt; &lt;/script&gt; 。。。
下面这段代码给input绑定了一个disabled属性，但是通过ok的真伪来控制属性是否渲染
当ok为fasle,null,undefined值时，属性都不会被渲染，有点类似于v-if，但是这种写法只是针对属性
&lt;div id=&#34;app&#34;&gt; &lt;input type=&#34;text&#34; v-bind:disabled=&#34;ok&#34;&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { message: &#39;hello,wolrd&#39;, ok: false } }) &lt;/script&gt; 在模板语法中还可以使用 javascript 表达式
&lt;div id=&#34;app&#34;&gt; &lt;div&gt;{{number &#43; 1}}&lt;/div&gt; &lt;div v-bind:id=&#34;&#39;list-&#39; &#43; id&#34;&gt;&lt;/div&gt; &lt;div&gt;{{message.split(&#39;&#39;).reverse().join(&#39;&#39;)}}&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { number: 2, id: &#39;li&#39;, message: &#39;hello,wolrd&#39; } }) &lt;/script&gt; 每个模板只能包含一个 javascript 表达式，如果有多个，则不会生效
&lt;!-- 这是语句，不是表达式 --&gt; {{ var a = 1 }} &lt;!-- 流控制也不会生效，请使用三元表达式 --&gt; {{ if (ok) { return message } }} 2.指令 参数
一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，v-bind指令可以用于响应式地更新 HTML attribute：
&lt;div id=&#34;app&#34;&gt; &lt;a v-bind:href=&#34;url&#34;&gt;百度&lt;/a&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue({ el: &#39;#app&#39;, data: { url: &#39;https://www.baidu.com&#39; } }) &lt;/script&gt; 在这里href是参数，告知v-bind指令将该元素的hrefattribute 与表达式url的值绑定
另一个例子是v-on指令，它用于监听 dom 事件
&lt;a v-on:click=&#34;doSomething&#34;&gt;...&lt;/a&gt; 动态参数
从 2.6.0 开始，可以用方括号括起来的 JavaScript 表达式作为一个指令的参数
&lt;!--注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。--&gt; &lt;a v-bind:[attributeName]=&#34;url&#34;&gt;...&lt;/a&gt; 这里的attributeName会被作为一个 javascript 表达式进行动态求值，最终结果被作为参数来使用
比如：vue 实例中有一个attributeName属性其值为href，则这个绑定将等价于v-bind:href
&lt;a v-bind:href=&#34;url&gt;...&lt;/a&gt; 也可以使用动态的事件名绑定监听函数
&lt;a v-on:[eventName]=&#34;doSomething&#34;&gt; ... &lt;/a&gt; 如果eventName值为click，则该绑定等价于v-on:click=&quot;doSomething&quot;，一个鼠标点击事件
对动态参数的值的约束
动态参数预期会求出一个字符串，异常情况下值为null，这个特殊的null值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。
对动态参数表达式的约束
动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的，例如：
&lt;!-- 这会触发一个编译警告 --&gt; &lt;a v-bind:[&#39;foo&#39; &#43; bar]=&#34;value&#34;&gt; ... &lt;/a&gt; 因此，尽量不要使用空格和引号的表达式，或者采用计算属性来替代这种复杂表达式
在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写
修饰符
修饰符是以.指明的特殊后缀，用于指出一个指令应该以特殊方式绑定，例如，.prevent修饰符告诉v-on指令对于触发的事件调用event.preentDefault()
&lt;form v-on:submit.prevent=&#34;onSubmit&#34;&gt;...&lt;/form&gt; 3.缩写 v-前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，v-前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序 (SPA - single page application) 时，v-前缀也变得没那么重要了。因此，Vue 为v-bind和v-on这两个最常用的指令，提供了特定简写
v-bind
&lt;!-- 完整语法 --&gt; &lt;a v-bind:href=&#34;url&#34;&gt;...&lt;/a&gt; &lt;!-- 缩写 --&gt; &lt;a :href=&#34;url&#34;&gt;...&lt;/a&gt; &lt;!-- 动态参数的缩写 (2.6.0&#43;) --&gt; &lt;a :[key]=&#34;url&#34;&gt; ... &lt;/a&gt; v-on
&lt;!-- 完整语法 --&gt; &lt;a v-on:click=&#34;doSomething&#34;&gt;...&lt;/a&gt; &lt;!-- 缩写 --&gt; &lt;a @click=&#34;doSomething&#34;&gt;...&lt;/a&gt; &lt;!-- 动态参数的缩写 (2.6.0&#43;) --&gt; &lt;a @[event]=&#34;doSomething&#34;&gt; ... &lt;/a&gt; 它们看起来可能与普通的 HTML 略有不同，但:与@对于 attribute 名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确地解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入地了解它们的作用，你会庆幸拥有它们。
" />
<meta property="og:locale" content="en-us" /><meta property="og:image" content="https://imgurl.zishu.me/favicon.ico" />


<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/index.css">
<link href="/index.xml" rel="alternate" type="application/rss+xml" title="halo的博客">
</head>

<body>
  <nav class="headnav">
  <a href="http://halo.rebotgpt.top" class="logo">HALO</a>
  <ul id="menu">
    
    <li><a href="/tags/">标签</a></li>
    
    <li><a href="/blog/">博客</a></li>
    
    <li><a href="/message/">留言</a></li>
    
    <li><a href="/search">搜索</a></li>
    
    <li><a href="/index.xml" target="_blank">RSS</a></li>
  </ul>
</nav>
  <section>
    
    <div class="body-title">vue 学习笔记 (2)－－vue 实例和模板语法</div>

    
    <div class="post-meta">
      <time> 2020-11-24</time>
      
      
      <span class="namenode">分类：
        <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
      </span>
      
      

      <span class="tag-node">
        
        标签：
        
        <a href="/tags/vue">#vue</a>
        
        <a href="/tags/%E7%AC%94%E8%AE%B0">#笔记</a>
        
        
      </span>

    </div>
    

    
    <div class="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#一vue-实例">一、vue 实例</a>
      <ul>
        <li><a href="#1创建-vue-实例">1.创建 vue 实例</a></li>
        <li><a href="#2生命周期函数">2.生命周期函数</a></li>
      </ul>
    </li>
    <li><a href="#二模板语法">二、模板语法</a>
      <ul>
        <li><a href="#1插值">1.插值</a></li>
        <li><a href="#2指令">2.指令</a></li>
        <li><a href="#3缩写">3.缩写</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <article class="post-content">
      
      <h2 id="一vue-实例">一、vue 实例</h2>
<h3 id="1创建-vue-实例">1.创建 vue 实例</h3>
<p>一个 vue 实例应该通过<code>new Vue</code>来创建根实例，所有的 vue 组件其实都是 vue 实例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="p">...</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>当一个实例被创建时，<code>data</code>对象中的 property 都被加入到 vue 的响应式系统中，当值发生改变时，试图也会改变</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>此时在控制台输入<code>vm.a == data.a</code>会返回 true，<code>变量data</code>已经被赋给<code>vue实例</code>中的<code>data对象</code>了</p>
<p>同时，对两个对象的数据进行操作改变也会影响到另一个</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="c1">// data.a = 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">data</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="c1">// vm.a = 3
</span></span></span></code></pre></div><p>当数据改变时，视图也会重新渲染，<strong>如果在 vue 实例被创建后，又添加了一个新的 property，则不会被加入到响应式系统中</strong></p>
<p>如果一开始就知道后面会添加一个 property，但是一开始不存在或为空，需要设置一些初始值</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">newTodoText</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">visitCount</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">hideCompletedTods</span><span class="o">:</span> <span class="nx">fasle</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">todos</span><span class="o">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">error</span><span class="o">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>使用 Object.freeze() 方法的时候，无法修改数据引起视图变化</strong></p>
<blockquote>
<p>Object.freeze() 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>{{message}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;hello,wolrd&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nb">Object</span><span class="p">.</span><span class="nx">freeze</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>在控制台改变<code>vm.message</code>的值会直接报错，因为 data 对象已经被冻结了，不可改变</p>
<p><img src="https://i.loli.net/2020/11/28/OnY3wRr865JELQD.jpg" alt="vue-learn-2.jpg"></p>
<p><strong>vm.$data</strong></p>
<p>代表 vue 实例观察的数据对象</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">vm</span><span class="p">.</span><span class="nx">$data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 返回数据对象的数组形式
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">vm</span><span class="p">.</span><span class="nx">$data</span> <span class="o">===</span> <span class="nx">data</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">vm</span><span class="p">.</span><span class="nx">$el</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">)</span> <span class="c1">// true
</span></span></span></code></pre></div><h3 id="2生命周期函数">2.生命周期函数</h3>
<p>每个实例在被创建的时候，都要经历一些初始化过程，比如：设置数据监听，编译模板，将实例挂载到 dom，更新 dom 等</p>
<p>在这个过程中会运行一些叫做<strong>生命周期</strong>的钩子函数，可以在不同阶段添加自己需要的代码</p>
<p><img src="https://i.loli.net/2020/11/28/UDzxwoIJLq9u6nG.png" alt="vue-learn-3.png"></p>
<p>比如<code>created</code>钩子可以用来表示一个实例被创建之后执行的代码</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">created</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;a is: &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;a is: 1&#34;
</span></span></span></code></pre></div><p><code>this</code>用来指向 vm 实例</p>
<blockquote>
<p>但是不要在 property 或者回调上使用箭头函数，<code>created: () =&gt; console.log(this.a)</code>，因为箭头函数没有<code>this</code>的概念，他会把<code>this</code>当作变量一直向上级作用域查找，经常产生<code>Uncaught TypeError: Cannot read property of undefined</code>或<code>Uncaught TypeError: this.myMethod is not a function</code>之类的报错</p>
</blockquote>
<h2 id="二模板语法">二、模板语法</h2>
<h3 id="1插值">1.插值</h3>
<p>最简单的就是</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>{{message}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span> <span class="s2">&#34;#app&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;hello,world&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>。。。</p>
<p>下面这段代码给<code>input</code>绑定了一个<code>disabled</code>属性，但是通过<code>ok</code>的真伪来控制属性是否渲染</p>
<p>当<code>ok</code>为<code>fasle</code>,<code>null</code>,<code>undefined</code>值时，属性都不会被渲染，有点类似于<code>v-if</code>，但是这种写法只是针对属性</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">v-bind:disabled</span><span class="o">=</span><span class="s">&#34;ok&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;hello,wolrd&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">ok</span><span class="o">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p><strong>在模板语法中还可以使用 javascript 表达式</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>{{number + 1}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">v-bind:id</span><span class="o">=</span><span class="s">&#34;&#39;list-&#39; + id&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>{{message.split(&#39;&#39;).reverse().join(&#39;&#39;)}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">number</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;li&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;hello,wolrd&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>每个模板只能包含一个 javascript 表达式，如果有多个，则不会生效</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 这是语句，不是表达式 --&gt;</span>
</span></span><span class="line"><span class="cl">{{ var a = 1 }}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- 流控制也不会生效，请使用三元表达式 --&gt;</span>
</span></span><span class="line"><span class="cl">{{ if (ok) { return message } }}
</span></span></code></pre></div><h3 id="2指令">2.指令</h3>
<p><strong>参数</strong></p>
<p>一些指令能够接收一个“参数”，在指令名称之后以冒号表示。例如，<code>v-bind</code>指令可以用于响应式地更新 HTML attribute：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-bind:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span>百度<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">data</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;https://www.baidu.com&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>在这里<code>href</code>是参数，告知<code>v-bind</code>指令将该元素的<code>href</code>attribute 与表达式<code>url</code>的值绑定</p>
<p>另一个例子是<code>v-on</code>指令，它用于监听 dom 事件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-on:click</span><span class="o">=</span><span class="s">&#34;doSomething&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p><strong>动态参数</strong></p>
<blockquote>
<p>从 2.6.0 开始，可以用方括号括起来的 JavaScript 表达式作为一个指令的参数</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!--注意，参数表达式的写法存在一些约束，如之后的“对动态参数表达式的约束”章节所述。--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-bind:</span><span class="err">[</span><span class="na">attributeName</span><span class="err">]=&#34;</span><span class="na">url</span><span class="err">&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>这里的<code>attributeName</code>会被作为一个 javascript 表达式进行动态求值，最终结果被作为参数来使用</p>
<p>比如：vue 实例中有一个<code>attributeName</code>属性其值为<code>href</code>，则这个绑定将等价于<code>v-bind:href</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-bind:href</span><span class="o">=</span><span class="s">&#34;url</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>也可以使用动态的事件名绑定监听函数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-on:</span><span class="err">[</span><span class="na">eventName</span><span class="err">]=&#34;</span><span class="na">doSomething</span><span class="err">&#34;</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>如果<code>eventName</code>值为<code>click</code>，则该绑定等价于<code>v-on:click=&quot;doSomething&quot;</code>，一个鼠标点击事件</p>
<p><green>对动态参数的值的约束</green></p>
<p>动态参数预期会求出一个字符串，异常情况下值为<code>null</code>，这个特殊的<code>null</code>值可以被显性地用于移除绑定。任何其它非字符串类型的值都将会触发一个警告。</p>
<p><green>对动态参数表达式的约束</green></p>
<p>动态参数表达式有一些语法约束，因为某些字符，如空格和引号，放在 HTML attribute 名里是无效的，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 这会触发一个编译警告 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-bind:</span><span class="err">[&#39;</span><span class="na">foo</span><span class="err">&#39;</span> <span class="err">+</span> <span class="na">bar</span><span class="err">]=&#34;</span><span class="na">value</span><span class="err">&#34;</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>因此，尽量不要使用空格和引号的表达式，或者采用计算属性来替代这种复杂表达式</p>
<p>在 DOM 中使用模板时 (直接在一个 HTML 文件里撰写模板)，还需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写</p>
<p><strong>修饰符</strong></p>
<p>修饰符是以<code>.</code>指明的特殊后缀，用于指出一个指令应该以特殊方式绑定，例如，<code>.prevent</code>修饰符告诉<code>v-on</code>指令对于触发的事件调用<code>event.preentDefault()</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-HTML" data-lang="HTML"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">form</span> <span class="na">v-on:submit</span><span class="err">.</span><span class="na">prevent</span><span class="o">=</span><span class="s">&#34;onSubmit&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span></code></pre></div><h3 id="3缩写">3.缩写</h3>
<p><code>v-</code>前缀作为一种视觉提示，用来识别模板中 Vue 特定的 attribute。当你在使用 Vue.js 为现有标签添加动态行为 (dynamic behavior) 时，<code>v-</code>前缀很有帮助，然而，对于一些频繁用到的指令来说，就会感到使用繁琐。同时，在构建由 Vue 管理所有模板的单页面应用程序 (SPA - single page application) 时，<code>v-</code>前缀也变得没那么重要了。因此，Vue 为<code>v-bind</code>和<code>v-on</code>这两个最常用的指令，提供了特定简写</p>
<p><strong>v-bind</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 完整语法 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-bind:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- 缩写 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">:href</span><span class="o">=</span><span class="s">&#34;url&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- 动态参数的缩写 (2.6.0+) --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">:</span><span class="err">[</span><span class="na">key</span><span class="err">]=&#34;</span><span class="na">url</span><span class="err">&#34;</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p><strong>v-on</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- 完整语法 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">v-on:click</span><span class="o">=</span><span class="s">&#34;doSomething&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- 缩写 --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;doSomething&#34;</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- 动态参数的缩写 (2.6.0+) --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">a</span> <span class="err">@[</span><span class="na">event</span><span class="err">]=&#34;</span><span class="na">doSomething</span><span class="err">&#34;</span><span class="p">&gt;</span> ... <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>它们看起来可能与普通的 HTML 略有不同，但<code>:</code>与<code>@</code>对于 attribute 名来说都是合法字符，在所有支持 Vue 的浏览器都能被正确地解析。而且，它们不会出现在最终渲染的标记中。缩写语法是完全可选的，但随着你更深入地了解它们的作用，你会庆幸拥有它们。</p>

    </article>

    
    <div class="comments">
  <div class="giscus"></div>
</div>
<script src="https://giscus.app/client.js"
        data-repo="yangdinghui/hugo-blog"
        data-repo-id="R_kgDOM_kHsQ"
        data-category="Announcements"
        data-category-id="DIC_kwDOM_kHsc4CjUf7"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

    
    
  </section>
  <footer class="footer">
  <p>© 2020 - 2024 Powered by
    <a href="https://github.com/yangdinghui" target="_blank">Github</a>
    / <a href="/index.xml" target="_blank">RSS</a>
  </p>
</footer>


</body>

</html>